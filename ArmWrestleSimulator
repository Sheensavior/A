local Workspace = game:GetService("Workspace")
local HttpService = game:GetService("HttpService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local FindPet = game.Players.LocalPlayer.PlayerGui.GameUI.Menus.PetInventory.Container.ScrollingFrame.Pets

getgenv().savefilename = "Arm-Wrestle-Simulator-"..game.Players.LocalPlayer.Name..".json"
function sex()
    -- reads jsonfile
    local jsonData = readfile(savefilename)
    local data = HttpService:JSONDecode(jsonData)

    -- global values
    getgenv().FarmPetEvent = data.FarmPetEvent
    getgenv().HatchEvent = data.HatchEvent
    getgenv().SummerCat = data.SummerCat
    getgenv().Leviathan = data.Leviathan
    getgenv().KingOctopus = data.KingOctopus
    getgenv().AutoCraft = data.AutoCraft
    ---// updates the json file
    function updatejson()

        local xdata = {
            FarmPetEvent = getgenv().FarmPetEvent,
            HatchEvent = getgenv().HatchEvent,
            SummerCat = getgenv().SummerCat,
            Leviathan = getgenv().Leviathan,
            KingOctopus = getgenv().KingOctopus,
            AutoCraft = getgenv().AutoCraft
        }

        local json = HttpService:JSONEncode(xdata)
        writefile(savefilename, json)

    end
--------------------------------------------------
--------------------------------------------------
-- Uilib Shits
    local DiscordLib = loadstring(game:HttpGet "https://raw.githubusercontent.com/Forever4D/Lib/main/DiscordLib2.lua")()
    local win = DiscordLib:Window("Arm Wrestle Simulator - Make by AllaySheen ".." - "..tostring(identifyexecutor()))
    local serv = win:Server("Arm Wrestle Simulator", "http://www.roblox.com/asset/?id=6031075938")

    local autofarmpetevent = serv:Channel("Auto Farm Pet Event")
        autofarmpetevent:Toggle("Auto Farm Pet Event( map 2)", getgenv().FarmPetEvent, function(bool)
            getgenv().FarmPetEvent = bool
            updatejson()
        end)
        autofarmpetevent:Toggle("Auto Hatching Event Egg", getgenv().HatchEvent, function(bool)
            getgenv().HatchEvent = bool
            updatejson()
        end)
        
    local autosellpet = serv:Channel("Auto Sell Pet Event")
        
        autosellpet:Label("Tạo Bởi Vĩnh Phát đẹp trai :V ")
        autosellpet:Toggle("Sell Summer Cat", getgenv().SummerCat, function(bool)
            getgenv().SummerCat = bool
            updatejson()
        end)

        autosellpet:Toggle("Sell Leviathan", getgenv().Leviathan, function(bool)
            getgenv().Leviathan = bool
            updatejson()
        end)

        autosellpet:Toggle("Sell King Octopus", getgenv().KingOctopus, function(bool)
            getgenv().KingOctopus = bool
            updatejson()
        end)

    local autocraft = serv:Channel("Auto Craft")
    autocraft:Label("Hello ae")
    autocraft:Toggle("Auto Craf All Pet ", getgenv().AutoCraft, function(bool)
        getgenv().AutoCraft = bool
        updatejson()
    end)
end

---// Checks if file exist or not\\---
if isfile(savefilename) then 

    local jsonData = readfile(savefilename)
    local data = HttpService:JSONDecode(jsonData)

    sex()

else
    local xdata = {
        FarmPetEvent = false,
        HatchEvent = false,
        SummerCat = false,
        Leviathan = false,
        KingOctopus = false,
        AutoCraft = false,
    }

    local json = HttpService:JSONEncode(xdata)
    writefile(savefilename, json)

    sex()
end
------// Auto Farm Pet Event \\------
coroutine.resume(coroutine.create(function()
    while task.wait(1.5) do
        if getgenv().FarmPetEvent then
            local Xroot = game.Workspace[game.Players.LocalPlayer.Name].HumanoidRootPart.Position.X
			local Yroot = game.Workspace[game.Players.LocalPlayer.Name].HumanoidRootPart.Position.Y
			local Zroot = game.Workspace[game.Players.LocalPlayer.Name].HumanoidRootPart.Position.Z
                if Xroot ~= -10300.76171875 and Yroot ~= 5.203732490539551 and Zroot ~= 534.5423583984375  then
                        local args = {
                        [1] = "ScrapTrader",
                        [2] = workspace.Zones:FindFirstChild("2").Interactables.ArmWrestling.NPC.ScrapTrader,
                        [3] = "2"
                                    }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.ArmWrestleService.RE.onEnterNPCTable:FireServer(unpack(args))
                        
                elseif Xroot ~= -10292.8046875 and Yroot ~= 5.2123332023620605 and Zroot ~= 542.6561889648438  then
                        local args = {
                        [1] = "CyberCop",
                        [2] = workspace.Zones:FindFirstChild("2").Interactables.ArmWrestling.NPC.CyberCop,
                        [3] = "2"
                                    }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.ArmWrestleService.RE.onEnterNPCTable:FireServer(unpack(args))
                end
        end
    end
end))

coroutine.resume(coroutine.create(function()
    while task.wait(0.2) do
        if getgenv().FarmPetEvent then
            game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.ArmWrestleService.RE.onClickRequest:FireServer()
        end    
    end
end))

------// Hatch Event Egg \\------
coroutine.resume(coroutine.create(function()
    while task.wait(1) do
        if getgenv().HatchEvent then
            game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.EventService.RF.ClaimEgg:InvokeServer()
        end
    end
end))


------// Auto Sell Pet Event \\------
coroutine.resume(coroutine.create(function()
    while task.wait(1.5) do
        task.wait(2)
        if getgenv().SummerCat and not getgenv().Leviathan and not getgenv().KingOctopus then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "Summer Cat" then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end 
        elseif getgenv().SummerCat and getgenv().Leviathan and not getgenv().KingOctopus then     
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "Summer Cat" or PetName == "Leviathan" then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end
        elseif getgenv().SummerCat and not getgenv().Leviathan and getgenv().KingOctopus then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "Summer Cat" or PetName == "King Octopus" then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end
        elseif not getgenv().SummerCat and getgenv().Leviathan and not getgenv().KingOctopus then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "Leviathan" then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end
        elseif not getgenv().SummerCat and getgenv().Leviathan and getgenv().KingOctopus then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "Leviathan" or PetName == "King Octopus"then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end
        elseif not getgenv().SummerCat and not getgenv().Leviathan and getgenv().KingOctopus then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "King Octopus"then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end
        end
    end
end))

------// Auto Craft Pet \\------
coroutine.resume(coroutine.create(function()
    while task.wait(600) do
        if getgenv().AutoCraft then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetCode1 = v.Name
                    local args = {
                        [1] = PetCode1,
                        [2] = true
                    }
                    game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.craft:InvokeServer(unpack(args))

                task.wait(5)
                end
            end
        end
    end
end))
--anti afk
pcall(function()
    local vu = game:GetService("VirtualUser")
    game:GetService("Players").LocalPlayer.Idled:connect(function()
    vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
    wait(1)
    vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
    end)
end)

print("susscess")
