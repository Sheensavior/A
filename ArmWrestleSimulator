local Workspace = game:GetService("Workspace")
local HttpService = game:GetService("HttpService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

getgenv().savefilename = "UpArm-Wrestle-Simulator-"..game.Players.LocalPlayer.Name..".json"
function sex()
    -- reads jsonfile
    local jsonData = readfile(savefilename)
    local data = HttpService:JSONDecode(jsonData)

    -- global values
    getgenv().FarmPetEvent2 = data.FarmPetEvent2
    getgenv().FarmPetEvent3 = data.FarmPetEvent3
    getgenv().HatchEvent = data.HatchEvent
    getgenv().Panda = data.Panda
    getgenv().Parrot = data.Parrot
    getgenv().Yeti = data.Yeti
    getgenv().AutoCraft = data.AutoCraft
    ---// updates the json file
    function updatejson()

        local xdata = {
            FarmPetEvent2 = getgenv().FarmPetEvent2,
	    FarmPetEvent3 = getgenv().FarmPetEvent3,
            HatchEvent = getgenv().HatchEvent,
	    Panda = getgenv().Panda,
	    Parrot = getgenv().Parrot,
	    Yeti = getgenv().Yeti,
            AutoCraft = getgenv().AutoCraft
        }

        local json = HttpService:JSONEncode(xdata)
        writefile(savefilename, json)

    end
--------------------------------------------------
--------------------------------------------------
-- Uilib Shits
    local DiscordLib = loadstring(game:HttpGet "https://raw.githubusercontent.com/Forever4D/Lib/main/DiscordLib2.lua")()
    local win = DiscordLib:Window("Arm Wrestle Simulator - Make by AllaySheen ".." - "..tostring(identifyexecutor()))
    local serv = win:Server("Arm Wrestle Simulator", "http://www.roblox.com/asset/?id=6031075938")

    local autofarmpetevent = serv:Channel("Auto Farm Pet Event")
        autofarmpetevent:Toggle("Auto Farm Pet Event( map 2)", getgenv().FarmPetEvent2, function(bool)
            getgenv().FarmPetEvent2 = bool
            updatejson()
        end)
	autofarmpetevent:Toggle("Auto Farm Pet Event( map 3)", getgenv().FarmPetEvent3, function(bool)
            getgenv().FarmPetEvent3 = bool
            updatejson()
        end)
    autofarmpetevent:Toggle("Auto Hatching Event Egg", getgenv().HatchEvent, function(bool)
            getgenv().HatchEvent = bool
            updatejson()
        end)
        
    local autosellpet = serv:Channel("Auto Sell Pet Event")
      
       autosellpet:Label("Tạo Bởi Vĩnh Phát đẹp trai :V ")
       autosellpet:Toggle("Sell Ninja Panda", getgenv().Panda, function(bool)
            getgenv().Panda = bool
            updatejson()
        end)

        autosellpet:Toggle("Sell Ninja Parrot", getgenv().Parrot, function(bool)
            getgenv().Parrot = bool
            updatejson()
        end)

        autosellpet:Toggle("Sell Ninja Yeti", getgenv().Yeti, function(bool)
            getgenv().Yeti = bool
            updatejson()
        end)

    local autocraft = serv:Channel("Auto Craft")
    autocraft:Label("Hello ae")
    autocraft:Toggle("Auto Craf All Pet ", getgenv().AutoCraft, function(bool)
        getgenv().AutoCraft = bool
        updatejson()
    end)
end

---// Checks if file exist or not\\---
if isfile(savefilename) then 

    local jsonData = readfile(savefilename)
    local data = HttpService:JSONDecode(jsonData)

    sex()

else
    local xdata = {
        FarmPetEvent2 = false,
	FarmPetEvent3 = false,
        HatchEvent = false,
	Panda = false,
        Parrot = false,
	Yeti = false,
        AutoCraft = false,
    }

    local json = HttpService:JSONEncode(xdata)
    writefile(savefilename, json)

    sex()
end

------// Auto Farm Pet Event 2 \\------
coroutine.resume(coroutine.create(function()
    while task.wait(1.5) do
        if getgenv().FarmPetEvent2 then
            local Xroot = game.Workspace[game.Players.LocalPlayer.Name].HumanoidRootPart.Position.X
			local Yroot = game.Workspace[game.Players.LocalPlayer.Name].HumanoidRootPart.Position.Y
			local Zroot = game.Workspace[game.Players.LocalPlayer.Name].HumanoidRootPart.Position.Z
                if Yroot == 5.23330545425415 or Yroot == 5.203732490539551 then
                        local args = {
                        [1] = "CyberCop",
                        [2] = workspace.Zones:FindFirstChild("2").Interactables.ArmWrestling.NPC.CyberCop,
                        [3] = "2"
                                    }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.ArmWrestleService.RE.onEnterNPCTable:FireServer(unpack(args))
                        
                elseif Yroot == 5.233249664306641  or Yroot == 5.2123332023620605 or Yroot == 5.233253002166748 then
                        local args = {
                            [1] = "SlicerAssassin",
                            [2] = workspace.Zones:FindFirstChild("2").Interactables.ArmWrestling.NPC.SlicerAssassin,
                            [3] = "2"
                        }
                        
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.ArmWrestleService.RE.onEnterNPCTable:FireServer(unpack(args))
		
		        else
                        local args = {
                                    [1] = "ScrapTrader",
                                    [2] = workspace.Zones:FindFirstChild("2").Interactables.ArmWrestling.NPC.ScrapTrader,
                                    [3] = "2"
                                                }
                                    game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.ArmWrestleService.RE.onEnterNPCTable:FireServer(unpack(args))
                end
        end
    end
end))
------// Auto Farm Pet Event 3 \\------
coroutine.resume(coroutine.create(function()
    while task.wait(1.5) do
        if getgenv().FarmPetEvent3 then
            local args = {
                [1] = "CocoNut",
                [2] = workspace.Zones:FindFirstChild("3").Interactables.ArmWrestling.NPC.CocoNut,
                [3] = "3"
            }
            
            game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.ArmWrestleService.RE.onEnterNPCTable:FireServer(unpack(args))

	    end
    end
end))

coroutine.resume(coroutine.create(function()
    while task.wait(0.2) do
        if getgenv().FarmPetEvent2 or getgenv().FarmPetEvent3 then
            game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.ArmWrestleService.RE.onClickRequest:FireServer()
        end    
    end
end))

------// Hatch Event Egg \\------
coroutine.resume(coroutine.create(function()
    while task.wait(1) do
        if getgenv().HatchEvent then
		game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.EventService.RF.ClaimEgg:InvokeServer()
        end
    end
end))

------// Auto Sell Pet Event \\------
coroutine.resume(coroutine.create(function()
    while task.wait(1.5) do
        task.wait(2)
	local FindPet = game.Players.LocalPlayer.PlayerGui.GameUI.Menus.PetInventory.Container.ScrollingFrame.Pets
        if getgenv().Panda and not getgenv().Parrot and not getgenv().Yeti then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "Ninja Panda" then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end 
        elseif getgenv().Panda and getgenv().Parrot and not getgenv().Yeti then     
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "Ninja Panda" or PetName == "Ninja Parrot" then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end
        elseif getgenv().Panda and not getgenv().Parrot and getgenv().Yeti then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "Ninja Panda" or PetName == "Ninja Yeti" then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end
        elseif not getgenv().Panda and getgenv().Parrot and not getgenv().Yeti then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "Ninja Parrot" then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end
        elseif not getgenv().Panda and getgenv().Parrot and getgenv().Yeti then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "Ninja Parrot" or PetName == "Ninja Yeti" then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end
        elseif not getgenv().Panda and not getgenv().Parrot and getgenv().Yeti then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "Ninja Yeti"then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end
	elseif getgenv().Panda and getgenv().Parrot and getgenv().Yeti then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetName = v.Toggle.Stat.Text
                   PetCode = v.Name
                    if PetName == "Ninja Panda" or PetName == "Ninja Parrot" or or PetName == "Ninja Yeti" then
                        local args = {
                            [1] = PetCode
                                     }
                        game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.delete:InvokeServer(unpack(args))
                    end 
                task.wait()
                end
            end
        end
    end
end))

------// Auto Craft Pet \\------
coroutine.resume(coroutine.create(function()
    while task.wait(600) do
        if getgenv().AutoCraft then
            for i, v in pairs(FindPet:GetChildren()) do
                if not v:IsA("UIGridLayout") and not v:IsA("UIPadding") then
                   PetCode1 = v.Name
                    local args = {
                        [1] = PetCode1,
                        [2] = true
                    }
                    game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.4.7").knit.Services.PetService.RF.craft:InvokeServer(unpack(args))

                task.wait(5)
                end
            end
        end
    end
end))
--anti afk
pcall(function()
    local vu = game:GetService("VirtualUser")
    game:GetService("Players").LocalPlayer.Idled:connect(function()
    vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
    wait(1)
    vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
    end)
end)

print("susscess")
